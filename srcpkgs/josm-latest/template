# Template file for 'josm-latest'
pkgname=josm-latest
version=17309
revision=1
depends="virtual?java-runtime"
short_desc="Java OpenStreetMap Editor"
maintainer="Bo Son <boson@gmx.at>"
license="GPL-3.0-or-later"
homepage="https://josm.openstreetmap.de/"
distfiles="https://josm.openstreetmap.de/download/josm-snapshot-${version}.jar"
checksum=44e8dfd40d684d51fa3929bca7aa6ecf6efcf5afc311dec0931ea4cdeb4a837d

do_extract() {
        :
}

do_install() {
	vmkdir usr/lib/${pkgname}
	cp ${XBPS_SRCDISTDIR}/${pkgname}-${version}/josm-snapshot-${version}.jar ${DESTDIR}/usr/lib/${pkgname}/
	ln -s josm-snapshot-${version}.jar ${DESTDIR}/usr/lib/${pkgname}/josm-latest.jar
	vbin ${FILESDIR}/josm-latest

	vmkdir usr/share/applications
	cp ${FILESDIR}/josm-latest.desktop ${DESTDIR}/usr/share/applications/

	vmkdir usr/share/pixmaps
	cp ${FILESDIR}/logo.svg ${DESTDIR}/usr/share/pixmaps/josm-latest.svg
}
